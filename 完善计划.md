# DIP全流程管理平台完善计划

## 项目概述
基于详细功能清单，将现有的DIP轻量工具包升级为完整的DIP全流程管理平台，满足所有功能需求。

## 现有系统分析
- **当前状态**：DIP轻量工具包（离线版）
- **主要功能**：10个工具模块，面向社区医院过渡期使用
- **技术架构**：HTML/CSS/JavaScript单页应用，本地存储
- **目标用户**：社区医院医务人员

## 详细功能清单分析
根据用户提供的详细功能清单，系统需要实现以下核心模块：

### 1. 全院一库数据中心
#### 1.1 数据采集服务
- 对各种异构数据源采用高效低资源占用的形式进行采集
- 主要采集医管相关数据，做到对医院系统无感采集

#### 1.2 多系统数据集
- 可针对业务对接HIS、EMR、病案系统等院内系统
- 将数据整合到一个平台中，统一管理数据
- 提供相关业务功能：门诊病历质控、病案首页质控、医保清单质控、DIP分组等

#### 1.3 ★多院区数据集
- 系统支持多院区部署对接，将多院区数据整合到一套系统
- 院区需独立部署与运行相同系统（整个医院是一套数据源）
- 相同系统才可进行统一管理多院区业务与数据
- 同一平台系统之间可进行每个院区的首页、清单数据质控统一管理
- 医保与医务指标统一监管

#### 1.4 数据后结构化处理（自然语言处理、深度学习算法等）
- 可对各类非结构化医疗文书进行实时后结构化处理
- 自动分段、分句：自动解析出入院日期、出院日期、入院情况、入院诊断、诊疗经过、出院情况、出院诊断、出院医嘱
- 自动分词：自动对每句文本中的医学实体进行正确识别
- 技术能力：基于双向长短期记忆网络和条件随机场的词性标注和命名实体识别算法
- 技术能力：基于深度卷积神经网络的实体链接算法
- 可视化展示：实体关联、实体抽取、API视图

#### 1.5 数据治理服务
- 提供各类医疗数据使用ETL技术进行清洗
- NLP解析、语义标注、治理、建模
- 为上层医管应用提供实时可变动的数据服务
- 制定数据传输标准

#### 1.6 数据验证服务
- 对数据中心的任务进行常态化的校验和检查
- 确保数据准确无误

#### 1.7 数据监控服务
- 实时记录各种数据访问日志
- 定期对数据中心的访问权限进行审核
- 对用户和服务在系统上的行为监控
- 对服务器上下行流量进行监控，异常则报警

#### 1.8 知识库管理
- 实现知识库本地化
- 根据医院实际情况进行自助调整且定期更新

### 2. 数据中心质控
#### 2.1 多数据源病案首页全流程质控系统
##### 2.1.1 医院概览
- 医院多维度数据分析展示
- 根据购买模块，分不同界面，滚动展示病案首页，医保清单，医务科，医保科，质控，财务等科室关注全院维度指标

##### 2.1.2 数据核对
- 月份/文件：所有同步至平台的病案数据，支持按批次或月份维度展示
- ★数据核对：匹配视图同步的病案首页数据与首页质控数据量差异，可对差异进行手动同步
- 分类统计：支持根据病案首页不同错误类型，进行分类统计
- 数据导出：支持自定义导出模板配置
- HQMS导出：支持按月份或批次，导出病案统计系统所需格式或标准上报格式的文件
- 卫统4导出：支持按月份或批次，导出病案统计系统所需格式或标准上报格式的卫统4文件导出
- 首页质量快速分类入口：根据主诊断主手术匹配，其他编码问题，非编码扣分项，未入组/异常，费用极高，费用极低，待复核病案等维度快速分类

##### 2.1.3 首页质控
- 系统支持对病案首页进行非编码质控、编码质控、诊断漏编质控
- 质控得分分析，可按病案首页填写规范进行扣减分数提示
- ★编码规则和非编码规则，用户可根据自己需要来手动控制医师和编码人员需要使用的规则

##### 2.1.4 编码转码
- 根据医院码本进行转码临床2.0版本和医保2.0版本
- 医院可自定义转码关系，按医院要求手动添加自定义转码

##### 2.1.5 手术标签
- 手术进行一级手术、二级手术、三级手术、四级手术、日间手术、手术和介入治疗、微创手术的标记

##### 2.1.6 首页列表
- 展示病案的基本信息，可通过本列表筛选病案的分组情况、质控问题、转码问题、入组费用情况
- 可自定义列表的表头，根据首页字段添加和删除列表展示的字段

##### 2.1.7 首页详情
- 提供病案首页的分组及分组问题说明、质控问题批注等信息的展示
- 提供在线编辑修改对的功能，辅助问题修正
- 对修改后的审核可记录操作留痕，记录每次修改变化
- 可将首页数据导出为PDF或Excel格式的文件
- ★支持一键手动同步病案功能

##### 2.1.8 首页审核
- 系统支持多角色协同审核病案首页问题
- 支持病案审核人员审核通过病案首页
- 支持病案审核人员点击审核不通过将问题病案指派至对应临床医生
- 审核支持单份审核，同时支持批量审核

##### 2.1.9 更多组合
- 自动分析诊断编码可能对应的DIP入组情况，与权重/分值情况

##### 2.1.10 入组分析
- 入组分布与趋势：可基于CN-DRGs、DIP入组结果，多维度统计病案入组、未入组
- 入组风险统计：多维度风险统计分析，风险标签包括未入组病案、低风险死亡病案、费用极低/极高病案
- 指标导出：根据医院选择不同分组器，科室，付款方式，时间周期等维度导出指标

##### 2.1.11 问题分析
- 问题分析：基于质控结果，统计分析编码问题、非编码问题
- 问题明细：统计每个编码问题、非编码问题的数量和占比和与上期比较
- 问题导出：可将各类问题根据时间，科室，错误类型分类导出

##### 2.1.12 得分分析
- 得分分析：统计扣分问题情况，分析各个科室、医师、编码员负责的病案的质控得分情况
- ★病案质量的优秀、合格、不合格可医院自己配置分数
- ★可自定义控制规则中扣分多少
- 得分趋势：支持对于病案数，病案得分，优秀病案，合格病案，不合格病案进行分类统计并支持趋势展示
- 得分导出：支持质控得分，扣分问题，不合格病案的病案列表导出

##### 2.1.13 医生端/病案员端预分组及质控助手
- ★悬浮质控：支持嵌入医生工作站以及病案管理系统，采用悬浮弹窗的方式展示编目前及编目后病案数据的实时质控
- 首页质控：对病案首页的填写质量进行编码问题、非编码问题、诊断漏编问题的分析
- 首页分组：系统支持对病案首页同时进行CN-DRGs、DIP预分组，且可一键切换查看
- 审核消息：在系统管理端，编码人员可以给临床医师指派病案质控或分组问题
- 更多组合推荐：根据首页诊断和手术及操作填写情况，进行排列组合，按权重/分值推荐更优的病组组合方式
- 病组查询：针对有首页的病案，提供分组查询助手

#### 2.2 多数据源医保结算清单全流程质控&上报系统
##### 2.2.1 多系统对接
- ★多系统对接：系统支持根据医院实际业务情况可以分别介入医生端编目前，病案端编目后或信息化厂家贯标后数据
- 并能自主上报或回传HIS进行上报

##### 2.2.2 清单核对
- 清单数据核对：可核对院内病案数在平台生成清单数量，是否有差异
- 同步清单：支持每日自动同步数据生成清单，也可手动从院内同步数据生成清单
- 数据预处理：清单成功生成后，系统支持根据值域配置自动对院内数据值域进行转换

##### 2.2.3 清单质控
- 清单预分组：系统支持对医保结算清单进行DIP预分组
- 清单质控：系统支持对清单数据进行包括医保非编码规则，编码规则，主要诊断调整建议等问题排查
- 文件总列表：用户可在该页面中以文件维度查看详细数据同步及生成情况
- 月度总列表：用户可在该页面中以月份时间维度查看详细数据同步及生成情况
- 清单列表：可通过时间维度、病案号、质控问题类型、患者非别等字段搜索清单
- 自定义列表：清单列表的表头可自定义
- ★清单详情页：用户可在该页面中完成对清单全内容查看及编辑处理操作
- 清单审核：系统支持多角色协同审核及处理清单问题
- ★自定义清单审核流程：医院可按院内各个科室要求，设置清单需要经过多个科室审核后才可上报
- 审核消息：可查看清单审核过程中发送的审核消息
- 清单附页：可查看清单与病案关联的部分字典信息
- 数据更新：可查看本清单院内数据与平台数据上本清单每个字段的差异
- 转码情况：可查看院内编码转码医保码本的转码结果
- 手术标签：可查看手术编码的标记
- ★解除锁定：可设置清单上报后自动锁定归档，也可手动批量或单个解除锁定归档状态
- 查看病程记录：可查看清单关联的全病例数据
- 操作日志：记录清单的每一个编辑、审核的记录的留痕日志
- 其他功能：导出清单数据为PDF文件、打印清单
- 我的待办：编码员/医保科用户在进行问题指派审核存疑动作后，被指派用户可在该页面查看所有指派至个人的全指派任务

##### 2.2.4 上报记录
- 上报医保：系统通过设置支持多种类型分组器，多种类型支付类型患者同时批量上报
- 清单上报：管理清单上报，可查看上报成功清单数、上报失败数、未上报清单数、超时未上报清单数
- 上报日志：用户在通过并联多个筛选条件下对已上报清单进行筛选索引
- ★自动上报：可以配置清单满足某些条件来确定自动上报

##### 2.2.5 ★医生预填写清单
- ★清单预填写：可在临床医生端助手插件，开启清单预填写
- ★分组查询：根据预填写的清单编码数据，进行预分组

### 3. 数据中心应用
#### 3.1 医保科
##### 3.1.1 医保费用管控系统
###### 3.1.1.1 医保助手
- 预分组：系统支持预填疾病和手术编码等病历基本信息，进行预分组
- 费用分析：（需单独开接口和服务器）可对接病例收费明细数据

###### 3.1.1.2 清单医保指标分析
- 数据权限：可以按全院、科室、医师、诊疗组、个人数据权限，控制每个用户可查看的数据范围
- 指标概况：★全局查看结算清单医保费用管控相关指标
- 结余预估：按医院与医保结算类型，将病案合理划分为按DIP或其他结算方式划分
- 学科建设：从科室、科别、医师、诊疗组、病组维度，分析医院学科建设指标
- 核心指标统计：从科室、科别、医生、诊疗组、病组和病案的维度，分析所有清单的关键性指标
- ★自定义核心指标表格表头字段
- 服务能力：CMI值分析、入组率分析、病组数分析、总权重/分值
- 质量效率：时间消耗指数、费用消耗指数、再入院率、低风险病组死亡率
- 费用控制：次均费用、平均住院日、药费占比、卫生材料费占比、★化验费占比、★检查费占比、★医疗服务费占比
- 异常指标：入组异常、费用极高、费用极低、药占比异常、卫生材料费异常
- ★药占比异常的控制值可自定义配置
- ★卫生材料费异常的控制值可自定义配置
- 医保智审：医保违规分析

## 技术实施方案

### 前端架构
- 采用模块化设计，每个中心独立模块
- 响应式设计，支持PC和移动端
- 组件化开发，提高代码复用性
- 状态管理，支持复杂业务逻辑

### 后端架构
- 微服务架构，各中心独立服务
- RESTful API设计，前后端分离
- 数据库设计：关系型数据库+文档数据库
- 缓存机制，提高系统性能

### 数据存储
- 结构化数据：MySQL/PostgreSQL
- 非结构化数据：MongoDB/Elasticsearch
- 文件存储：对象存储服务
- 缓存：Redis

### 系统集成
- API网关：统一接口管理
- 消息队列：异步处理和数据同步
- 数据总线：系统间数据交换
- 单点登录：统一身份认证

## 实施时间计划
- **第1-2周**：需求分析和架构设计
- **第3-4周**：数据库设计和基础框架搭建
- **第5-8周**：数据中心和质控中心开发
- **第9-12周**：应用中心和审核中心开发
- **第13-14周**：系统集成和测试
- **第15-16周**：部署上线和用户培训

## 风险评估
1. **技术风险**：系统复杂度高，需要专业开发团队
2. **数据风险**：需要处理大量医疗数据，确保数据安全
3. **集成风险**：需要与现有医院系统对接，接口兼容性
4. **用户风险**：用户接受度，需要充分的培训和支持

## 成功标准
1. 所有功能模块按服务要求实现
2. 系统稳定运行，响应时间符合要求
3. 用户满意度达到90%以上
4. 数据准确率达到99%以上
5. 系统支持多院区部署和扩展

## 下一步行动
1. 组建项目团队，明确分工
2. 制定详细的技术方案
3. 开始第一阶段开发工作
4. 定期评估项目进度和质量
